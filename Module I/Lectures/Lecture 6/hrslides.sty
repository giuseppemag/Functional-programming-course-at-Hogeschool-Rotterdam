\newcommand{\SlideSection}[1]{
\def \CurrentSection {#1}
\section{#1}
}

\newcommand{\SlideSubSection}[1]{
\def \CurrentSubSection {#1}
%\subsection{#1}
}

\newenvironment{slide}[1]
{
\begin{frame}{\CurrentSection}
\begin{block}{\CurrentSubSection}
\begin{itemize}
#1
\end{itemize}
\end{block}
}{
\end{frame}
}

\newenvironment{textslide}[1]
{
\begin{frame}{\CurrentSection}
\begin{block}{\CurrentSubSection}
#1
\end{block}
}{
\end{frame}
}

\newenvironment{codeslide}[1]
{
\begin{frame}[fragile]{\CurrentSection}
\begin{block}{\CurrentSubSection}
\begin{lstlisting}[language=CAML]
#1
\end{lstlisting}
\end{block}
}{
\end{frame}
}


\newenvironment{picturetextslide}[2]
{
\begin{frame}{\CurrentSection}
\begin{columns}[c]
\column{.5\textwidth}
\begin{block}{\CurrentSubSection}
\begin{itemize}
#1
\end{itemize}
\end{block}
\column{.5\textwidth}
\center
\includegraphics[width=4cm]{#2}
\end{columns}
}{
\end{frame}
}
